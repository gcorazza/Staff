<!DOCTYPE html>
<html>
<head>
    <script src="taramath.js"></script>
</head>
<body>
<textarea id="pointInput" style="height: 200px;">
0 1
0.5 0.5
1 1
</textarea>
<button onclick="recalc();">Recalculate!</button>
<div id="plot"></div>
<div id="arrayString"></div>

<script>
    recalc();
    function recalc() {
        let points = getPoints();
        var x = points[0];
        var y = points[1];
        console.log(x);
        console.log(y);

        var n = Math.min(x.length, y.length);
        var p = Sort.quick(x);
        var d = p[n - 1] - p[0];
        var t = [];
        for (var h = p[0]; h <= p[n - 1]; h += 0.05 * d) t.push(h);

        var s = Interpolate.cubic(x, y, t);

        console.log(s);

        document.getElementById("arrayString").textContent = "aksudr";

        if (typeof (s) != "string") {
            var Z = [];
            for (var k = 0; k < t.length; k++) Z.push([t[k], s[k]]);
            var T = [];
            for (var k = 0; k < n; k++) T.push([x[k], y[k]]);
            Plot.init("plot", 600, 300);
            Plot.caption("x-Achse", "y-Achse");
            Plot.options("line");
            Plot.add_list(Z);
            Plot.options("dots");
            Plot.add_list(T);
            Plot.draw();
        }

    }

    function getPoints(){
        const pointsString = document.getElementById("pointInput").value;
        let split = pointsString.split("\n");
        const xs = [-2.4, -1.0, 0.0];
        const ys = [5.8, 1.0, 0.0];

        return [xs, ys];
    }

</script>
</body>
</html>
